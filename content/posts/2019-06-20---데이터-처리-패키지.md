---
title: "데이터 처리 패키지"
date: "2019-06-20T12:08:00.169Z"
template: "post"
draft: false
slug: "/tech/AI/data-processing-packages/"
category: "tech"
tags:
  - "Pandas"
  - "numpy"
  - "matplotlib"
description: "데이터 처리 패키지 3대장을 공부해보자"
---

- [pandas](#pandas)
- [numpy](#numpy)
- [matplotlib](#matplotlib)







## pandas [홈페이지](<http://pandas.pydata.org/pandas-docs/stable/getting_started/overview.html#data-structures>)

### pandas란?

Pandas는 빠르고, 유연하며 풍부한 데이터 구조의 파이썬 패키지이다. 서로 관계있거나, 라벨링 된 데이터를 쉽고 직관적으로 사용할 수 있도록 도와준다.(고 홈페이지에 써있다.)

조금 더 쉽게 설명해보면, pandas는 <u>행과 열로 이루어진 데이터 오브젝트(=관계 or 라벨링)를 만들어 다루며, 데이터를 처리하는데 편리한 파이썬 라이브러리</u>이다.

### pandas를 왜 쓸까?

+ 부동 소수점 데이터 뿐만 아니라, 누락된 데이터(NaN으로 처리)를 손쉽게 처리
+ 크기 변경 : DataFrame 및 상위 차원 개체에서 **열을 삽입하고 삭제** 가능
+ 데이터 정렬
+ 다른 데이터 구조(python 및 numpy 등)의 비정형 데이터를 DataFrame 객체로 쉽게 변환 가능
+ 직관적인 데이터 병합 및 결합
+ csv file, excel file 등 여러 파일을 로드/저장 하기에 용이. => 원하는 데이터 형식으로 변환해준다.



### data 구조?

| 차수 | 이름      | 기술                     |
| ---- | --------- | ------------------------ |
| 1    | Series    | 1차원 배열               |
| 2    | DataFrame | 2차원 배열. (일반적으로) |



#### 1. Series

+ pd.Series는 1차원 데이터를 다룰 때 사용. 변수를 출력해보면 인덱스 번호와 이름, 자료형도 함께 출력된다.

+ **생성함수**

  + Series(data, name): data를 name 이라는 이름의 Series형태로 만들어 준다.

    ```python
    import pandas as pd
    
    ages = pd.Series([18, 21, 20, 16, 32, 22], name="ages")
    print(ages)
    ============
    0    18
    1    21
    2    20
    3    16
    4    32
    5    22
    Name: ages, dtype: int64
            
            
    ages.index=['a', 'b', 'c', 'd', 'e', 'f']
    print(ages)
    =============
    a    18
    b    21
    c    20
    d    16
    e    32
    f    22
    Name: ages, dtype: int64
    
    ages2 = pd.Series([18, 21, 20, 16, 32, 22],
                      index=['a', 'b', 'c', 'd', 'e', 'f'],
                      name="ages2")
    print(ages2)
    ==============
    a    18
    b    21
    c    20
    d    16
    e    32
    f    22
    Name: ages2, dtype: int64
    
    class_name = {'국어' : 90,'영어' : 70,'수학' : 100,'과학' : 80}
class_name = pd.Series(class_name)
    print(class_name,'\n')
    ============
    국어     90
    영어     70
    수학    100
    과학     80
    dtype: int64 
    ```
    
    + Series로 1차원 배열을 사용하여 만들면 자동으로 0번부터 순서가 붙게된다. 
      + 이 때 index를 따로 설정하고 싶으면 index라는 1차원 배열을 나중에 넣어주거나 생성시 사용하면 된다.
    + Series는 python dictionary로 만드는 것이 용이한데, index명으로 사용할 key값과 value값을 각각 입력하여 한번에 Series 처리하면 쉽게 사용할 수 있다.

#### 2. DataFrame

+ DataFrame은 Series와 달리 여러개의 column을 가질 수 있다.
+ DataFrame을 정의할 때는 2차원 리스트를 매개 변수로 전달하며 여러개의 Series 데이터를 합쳐 DataFrame을 만들 수도 있다.

##### **DataFrame ?**

```python
import pandas as pd

values = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
index = ['one', 'two', 'three']
columns = ['A', 'B', 'C']

df = pd.DataFrame(values, index=index, columns=columns)
print(df)
===========
       A  B  C
one    1  2  3
two    4  5  6
three  7  8  9
```

+ DataFrame은 value값과 index, columns으로 이루어진다.

```python
print(df.index) # index 출력
===========
Index(['one', 'two', 'three'], dtype='object')

print(df.columns) # column명 출력
===========
Index(['A', 'B', 'C'], dtype='object')

print(df.values) # 값 출력
===========
[[1 2 3]
 [4 5 6]
 [7 8 9]]
```



##### **생성 함수**

+ DataFrame(data): data를 DataFrame 구조로 만들어 준다.
  
  ```python
  import pandas as pd
  
  data = [['name', 'age'], ['A', 20], ['B', 29], ['c', 24], ['d', 26]]
  data = pd.DataFrame(data)
  
  print(data)
  ============
        0    1
  0  name  age
  1     A   20
  2     B   29
  3     c   24
  4     d   26
  ```
  
  + name, age가 들어가는 columns가 0번에 들어간다. 하지만 저 자리에 **꼭 columns가 들어가야 하는 것은 아니다.**
  + 먼저 나오는 것을 0번, 나중에 나오는 것을 1번으로 label이 붙는다. == index가 붙는다. 
  + 그러나, 위의 방법은 좋지 못한(0번에 column 명이 붙는) 방법이다.
  
+ ```python
  data = [['A', 20], ['B', 29], ['c', 24], ['d', 26]]
  df = pd.DataFrame(data)
  print(df)
  ============
  	0   1
  0  A  20
  1  B  29
  2  c  24
  3  d  26
  ```

  + column 명을 제거 했을 경우, 0번 index부터 값이 시작할 수 있다.
  + 이 경우, column 명을 추가하는 방법은 아래와 같다.

+ ```python
  df = pd.DataFrame(data, columns=['name', 'age'])
  print(df)
  ============
        name  age
  0    A   20
  1    B   29
  2    c   24
  3    d   26
  ```

  + 위의 data를 가지고 columns을 추가하여 새롭게 df를 만들고, 출력한다.

+ python의 dictionary를 가지고 만드는 방법도 존재한다.

  ```python
  data = {'name': ['A', 'B', 'c', 'd'],
          'age': [20, 29, 24, 26]}
  df = pd.DataFrame(data)
  print(df)
  ===========
    name  age
  0    A   20
  1    B   29
  2    c   24
  3    d   26
  ```

  + dictionary의 key가 알아서 column 명이 된다.



##### 데이터 추출 및 추가 함수

+ `loc()`: 명시적인 인덱스를 참조하는 인덱싱/슬라이싱
+ `iloc()` : 정수 인덱스 인덱싱/슬라이싱. 단 iloc의 경우 리스트와 같이 마지막 인덱스는 포함되지 않는다.
+ `loc`, `iloc` 함수에 Index 값을 입력하여 원하는 데이터 인덱스를 추출/ 추가할 수 있다.



##### 데이터 삭제 함수

+ `drop()` : index, column 삭제
+ `drop()`함수에 Index 값을 입력하여 원하는 데이터 인덱스를 삭제할 수 있다.



```python
import pandas as pd

a = pd.Series([20, 15, 30, 25, 35], name='age')
b = pd.Series([68.5, 60.3, 53.4, 74.1, 80.7], name='weight')
c = pd.Series([180, 165, 155, 178, 185], name='height')
human = pd.DataFrame([a, b, c])

print(human)
===========
            0      1      2      3      4
age      20.0   15.0   30.0   25.0   35.0
weight   68.5   60.3   53.4   74.1   80.7
height  180.0  165.0  155.0  178.0  185.0


# loc(), iloc() 함수를 이용하여 특정 행, 열 추출
print(human.loc['age'], '\n')
===========
0    20.0
1    15.0
2    30.0
3    25.0
4    35.0
Name: age, dtype: float64 
        
print(human.iloc[0], '\n')
===========
0    20.0
1    15.0
2    30.0
3    25.0
4    35.0
Name: age, dtype: float64 

# loc(), iloc() 함수를 이용하여 데이터의 특정 범위 추출
print(human.loc['weight': 'height'], '\n')
===========
            0      1      2      3      4
weight   68.5   60.3   53.4   74.1   80.7
height  180.0  165.0  155.0  178.0  185.0 


print(human.iloc[1:3], '\n')
===========
            0      1      2      3      4
weight   68.5   60.3   53.4   74.1   80.7
height  180.0  165.0  155.0  178.0  185.0 


sex = ['F', 'M', 'F', 'M', 'F']
# 새로운 데이터 추가하기
human.loc['sex'] = sex
print(human, '\n')
===========
           0     1     2     3     4
age       20    15    30    25    35
weight  68.5  60.3  53.4  74.1  80.7
height   180   165   155   178   185
sex        F     M     F     M     F 


# 원하는 행/열 데이터 삭제하기
tmp = human.drop(['height'])
print(tmp, '\n')
===========
           0     1     2     3     4
age       20    15    30    25    35
weight  68.5  60.3  53.4  74.1  80.7
sex        F     M     F     M     F 
```









## numpy

### Numpy란?

+ 넘파이(Numpy)는 파이썬 기반의 고성능의 수치 계산을 위한 라이브러리.
+ 넘파이는 계산의 기반이 되는 배열(array)을 간편하게 생성할 수 있는 여러 가지 함수들을 제공하고 있다.



+ 초기화, 데이터 타입, 슬라이싱 등 주의하기







## matplotlib













### Ref

[딥 러닝을 이용한 자연어 처리 입문](<https://wikidocs.net/32829>)

[엘리스 - 파이썬으로 시작하는 데이터 분석](<https://academy.elice.io/courses/871/info>)

